{% load static %}
{% load widget_tweaks %}
{% load socialaccount %}

<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
  <link rel="stylesheet" as="style" onload="this.rel='stylesheet'"
    href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&family=Plus+Jakarta+Sans%3Awght%40400%3B500%3B700%3B800" />

  <title>Stitch Design</title>
  <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script>
    function toggleMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      menu.classList.toggle('hidden');
    }
  </script>
</head>

<body>
  <div class="relative flex size-full min-h-screen flex-col bg-[#fcf8f8] group/design-root overflow-x-hidden"
    style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'>
    <div class="layout-container flex h-full grow flex-col">
      <header
        class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f3e7e8] px-4 py-3 sm:px-10">
        <div class="flex items-center gap-4 text-[#1b0e0e]">
          <div class="size-4">
            <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_6_535)">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M47.2426 24L24 47.2426L0.757355 24L24 0.757355L47.2426 24ZM12.2426 21H35.7574L24 9.24264L12.2426 21Z"
                  fill="currentColor"></path>
              </g>
              <defs>
                <clipPath id="clip0_6_535">
                  <rect width="48" height="48" fill="white"></rect>
                </clipPath>
              </defs>
            </svg>
          </div>
          <h2 class="text-[#1b0e0e] text-lg font-bold leading-tight tracking-[-0.015em]">
            RaffleBox
          </h2>
        </div>
        <button class="sm:hidden text-[#1b0e0e] focus:outline-none" onclick="toggleMobileMenu()">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>

        <div class="hidden sm:flex flex-1 justify-end gap-8" id="main-nav-desktop">
          <div class="flex items-center gap-9">
            <a class="text-[#1b0e0e] text-sm font-medium leading-normal" href="{% url 'home' %}">How it works</a>
            <a class="text-[#1b0e0e] text-sm font-medium leading-normal" href="{% url 'san_list' %}">Browse</a>
            <a class="text-[#1b0e0e] text-sm font-medium leading-normal" href="{% url 'create_san' %}">Create</a>
          </div>
          <div class="flex gap-2">
            {% if not user.is_authenticated %}
            <a href="{% url 'register' %}"
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#e92932] text-[#fcf8f8] text-sm font-bold leading-normal tracking-[0.015em]">
              <span class="truncate">Sign Up</span>
            </a>
            <a href="{% url 'login' %}"
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#f3e7e8] text-[#1b0e0e] text-sm font-bold leading-normal tracking-[0.015em]">
              <span class="truncate">Log In</span>
            </a>
            {% else %}
            <a href="{% url 'user_profile' %}"
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#f3e7e8] text-[#1b0e0e] text-sm font-bold leading-normal tracking-[0.015em]">
              <span class="truncate">My Profile</span>
            </a>
            <a href="{% url 'logout' %}"
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#e92932] text-[#fcf8f8] text-sm font-bold leading-normal tracking-[0.015em]">
              <span class="truncate">Log Out</span>
            </a>
            {% endif %}
          </div>
        </div>
      </header>

      <div id="mobile-menu"
        class="hidden sm:hidden flex flex-col items-center border-b border-solid border-b-[#f3e7e8] bg-[#fcf8f8] py-4">
        <a class="text-[#1b0e0e] text-base font-medium leading-normal py-2" href="{% url 'home' %}">How it works</a>
        <a class="text-[#1b0e0e] text-base font-medium leading-normal py-2" href="{% url 'san_list' %}">Browse</a>
        <a class="text-[#1b0e0e] text-base font-medium leading-normal py-2" href="{% url 'create_san' %}">Create</a>
        <div class="flex flex-col gap-2 w-full px-4 mt-4">
          <a href="{% url 'register' %}"
            class="flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#e92932] text-[#fcf8f8] text-sm font-bold leading-normal tracking-[0.015em]">
            <span class="truncate">Sign Up</span>
          </a>
          <a href="{% url 'login' %}"
            class="flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#f3e7e8] text-[#1b0e0e] text-sm font-bold leading-normal tracking-[0.015em]">
            <span class="truncate">Log In</span>
          </a>
        </div>
      </div>

      <div class="px-4 flex flex-1 justify-center py-5 sm:px-10 lg:px-40">
        <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
          <div class="@container">
            <div class="@[480px]:p-4">
              <div
                class="flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-lg items-center justify-center p-4"
                style='background-image: linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://lh3.googleusercontent.com/aida-public/AB6AXuDBdNW21M6axorVRMH4w5Tc3YWSSnDryhwneO88INwKGaMxEW_fJvdc_Kw2JSKLWx1TqR9t1uuXNYK1GNEHjc_vo9POee7Or284qdzWKe88md5lWZ9nEWmetE9N3aV25klP5pwtQ3Ojik1SNjyVllkOQ19U52HDd03pqO3JJrXxN7SgdwVXqZSxJT01pj1LUY9o_XX0CXn-LZgG_J8973wu3koLQXkljDVOB51lvtSkqlD6SXseeUT0ft_h6bkN0SxlFSYEy1AV4Qib");'>
                <div class="flex flex-col gap-2 text-center">
                  <h1
                    class="text-white text-3xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]">
                    Win Big with RaffleHub
                  </h1>
                  <h2
                    class="text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal px-2">
                    Join our community and participate in exciting raffles for a chance to
                    win amazing prizes. Sign up or log in to get started.
                  </h2>
                </div>
                <div class="flex-wrap gap-3 flex justify-center">
                  <a href="{% url 'register' %}"
                    class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 @[480px]:h-12 @[480px]:px-5 bg-[#e92932] text-[#fcf8f8] text-sm font-bold leading-normal tracking-[0.015em] @[480px]:text-base @[480px]:font-bold @[480px]:leading-normal @[480px]:tracking-[0.015em]">
                    <span class="truncate">Sign Up</span>
                  </a>
                  <a href="{% url 'login' %}"
                    class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 @[480px]:h-12 @[480px]:px-5 bg-[#f3e7e8] text-[#1b0e0e] text-sm font-bold leading-normal tracking-[0.015em] @[480px]:text-base @[480px]:font-bold @[480px]:leading-normal @[480px]:tracking-[0.015em]">
                    <span class="truncate">Log In</span>
                  </a>
                </div>
              </div>
            </div>
          </div>
          <h2 class="text-[#1b0e0e] text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">
            Active Raffles
          </h2>
          <div
            class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4 overflow-y-hidden overflow-x-hidden">
            {% for san in sanes %}
            <div class="flex h-full flex-col gap-4 rounded-lg bg-[#fcf8f8] shadow-[0_0_4px_rgba(0,0,0,0.1)]">
              <div class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-lg flex flex-col"
                style='background-image: url("{% if san.image %}{{ san.image.url }}{% else %}{% static "img/default.jpg" %}{% endif %}");'>
              </div>
              <div class="flex flex-col flex-1 justify-between p-4 pt-0 gap-4">
                <div>
                  <p class="text-[#1b0e0e] text-base font-medium leading-normal">
                    {{ san.name }}
                  </p>
                  <p class="text-[#994d51] text-sm font-normal leading-normal">
                    Precio Total: ${{ san.total_price|floatformat:2 }}
                  </p>
                </div>
                <a href="{% url 'san_detail' san.id %}"
                  class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#f3e7e8] text-[#1b0e0e] text-sm font-bold leading-normal tracking-[0.015em]">
                  <span class="truncate">Ver Rifa</span>
                </a>
              </div>
            </div>
            {% empty %}
            <p class="px-4 text-[#8b5b5c]">No hay rifas activas por ahora.</p>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>